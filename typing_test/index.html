<!DOCTYPE html>
<html ng-app="typingApp">
<head>
    <title>Real Words Typing Test</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="app.js"></script>
</head>
<body ng-controller="TypingController as tc" ng-keydown="tc.handleKey($event)" tabindex="0">
    <div class="container">
        <div class="header">
            <h1>‚öîÔ∏è Hero's Typing Quest </h1>
            <div class="stats">
                <span>WPM: {{tc.wpm}}</span>
                <span>Accuracy: {{tc.accuracy}}%</span>
                <span>Time: {{tc.time}}s</span>
                <span>Duration:
                    <select ng-model="tc.duration" ng-disabled="tc.isTesting || tc.testCompleted">
                        <option value="15">15s</option>
                        <option value="30">30s</option>
                        <option value="60" selected>60s</option>
                    </select>
                </span>

                <button ng-click="tc.startTest()" ng-disabled="tc.isTesting || tc.testCompleted">
                    {{tc.testCompleted ? 'Quest Complete' : 'Begin Quest'}}
                </button>
            </div>
        </div>

        <div class="typing-area">
            <div class="words">
                <span ng-repeat="word in tc.words track by $index"
                      ng-class="{
                        'current': $index === tc.currentWordIndex,
                        'correct': word.status === 'correct',
                        'incorrect': word.status === 'incorrect'
                      }"
                      ng-bind-html="tc.highlightCurrentChar(word, $index)">
                </span>
            </div>
        </div>
    </div>

    <!-- Thank You Modal -->
    <div class="modal" ng-show="tc.showResultsModal">
      <div class="modal-content">
        <div class="trident">üî±</div>
        <h2>Quest Complete!</h2>
        <div class="final-stats">
          <p>‚ö° Words Per Minute: {{tc.wpm}}</p>
          <p>Accuracy: {{tc.accuracy}}%</p>
        </div>
        <p class="thank-you-message">
          May the gods of Olympus smile upon your typing prowess, hero!
        </p>
        <p class="thank-you-message" style="font-size: 0.9em; margin-top: 20px;">
          Your results have been recorded in the Oracle's scrolls.
        </p>
      </div>
    </div>
</body>
</html>
